html
  head
    title= title
    link(href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css",rel="stylesheet")
  body
    h1= title
    #summary.container-sm
      table.table.table-striped.table-hover.table-sm
        if (type==='by-month')                
          thead
            tr
              th  Mois 
              th  Conso totale
              th  Conso pondérée
          tbody    
            each item in data 
              tr 
                td=dateTime.fromFormat(item.month,`yyyy'-'MM`,{locale:'fr'}).toLocaleString({month:'long',year:'numeric'})
                td=item.totalConsumption
                td=item.weightedConsumption
        else if (type==='by-day')
          thead 
            tr
              th Jour 
              th Conso totale
          tbody
            each item in data 
              tr 
                td=dateTime.fromFormat(item.day,`yyyy'-'MM'-'dd`,{locale:'fr'}).toLocaleString({weekday:'long',day:'numeric',month:'long',year:'numeric'}) 
                td=item.totalConsumption
        else if (type==='by-month-and-device')        
          thead
            tr 
              th Mois
              th Appareil
              th Conso totale
              th Conso pondérée
          tbody
            each item in data 
              tr 
                td=dateTime.fromFormat(item.month,`yyyy'-'MM`,{locale:'fr'}).toLocaleString({month:'long',year:'numeric'})
                td=item.location
                td=item.totalConsumption 
                td=item.weightedConsumption               
    #links
      h3 Autres options:
      ul 
        li 
          a(href="/summary/byMonth") Résumé par mois 
        li 
          a(href="/summary/byDay") Résumé par jour
        li 
          a(href="/summary/byMonthAndDevice") Résumé par mois et appareil
    